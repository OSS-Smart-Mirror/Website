<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
This is an example weekly progress report document that team members can use to report their individual progress
of their ECE477 senior design projects. Weekly progress reports are expected to follow the general guidelines
presented in the "Progress Report Policy" document, available online at https://engineering.purdue.edu/ece477/Course/Policies/policies.html

Please create 4 copies of this example, renaming each copy to <PurdueID>.html, where <PurdueID> corresponds to
the Purdue ITAP Career Account ID given by Purdue to each individual team member. If you have any questions,
contact course staff.
-->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<!--Reconfigurable base tag; used to modify the site root location for root-relative links-->
<base href="https://engineering.purdue.edu/477grp1/" />

<!--Content-->
<title>ECE477 Course Documents</title>
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta name="author" content="George Hadley">
<meta name = "format-detection" content = "telephone=no" />
<meta name="viewport" content="width=device-width,initial-scale=1.0">

<!--CSS-->
<link rel="stylesheet" href="css/default.css" type="text/css" media="all" />
<link rel="stylesheet" href="css/responsive.css">
<link rel="stylesheet" href="css/styles.css">
<link rel="stylesheet" href="css/content.css">
<!--[if IE 6]>
<link href="default_ie6.css" rel="stylesheet" type="text/css" />
<![endif]-->

</head>
<body>
<div id="wrapper_site">
    <div id="wrapper_page">
	<!-- Instantiate global site header.-->
	<div id="header"></div>
		<!-- Instantiate site global navigation bar.-->
		<div id="menu"></div>

		<!-- Instantiate a page banner image. Page banner images should be 1100x350px and should be located within the local
			img folder located at this directory level. -->
		<div id="banner">
			<img src="Files/img/BannerImgExample.jpg"></img>
		</div>

		<!-- Instantiate "tools" needed for a page. Tools are premade functional blocks that can be used to build a page,
			and include things such as a file lister (for listing out homework assignments or tutorials)
		-->
		<div id="content">
            <h2>Progress Report for Abhay Sasidharan</h2>


            <h4>Week 2:</h4>
            <b>Date:</b> 08/29/2019 <br>
            <b>Total hours:</b> 06 <br>
            <b>Description of design efforts:</b>
			<br>
			Over the course of Week 2, I worked on conducting research on the best strategies to implement the IntelliFace user interface. 
			I studied a variety of approaches and arrived at the conclusion that creating a web application would be the best strategy. 
			The team is using the NVIDIA Jetson Nano as the dev kit for computationally expensive tasks, such as facial recognition.  
			</br>
			<br>
			The Nano runs the Linux4Tegra operating system. As a result, it would be ideal to create a web app and load it onto the default browser (Chromium). 
			The mirror should be stationed near a wall outlet for power and an ethernet port, since the Jetson Nano does not have wifi capabilies. 
			The UI will display the current date, time, local weather and location; hence, internet connectivity is a necessity for running the different APIs. 
			I currently drew out a very rudimentary sketch of the UI, shown in Figure 1, which places emphasis on the fact that "less is more". 
			The user will be using the mirror to view his/her own reflection while making cursory glances at the smart features. 
			This leads me to believe that including additional features such as email notifications would induce too much clutter into the design.  
			</br>
			<br>
			<div align="center">
            	<img src="Team/progress/img/dash_plan.jpg" height="500" width="450"></img>
			</br>
         	</div>
			<br>
			The room temperature read from the temperature sensor connected to the STM32F0 should not be displayed in the same location on the mirror as 
			the weather data, because the two different temperature readings may lead to confusion.The next steps involve getting acclimated to a web development 
			framework of choice and designing the UI. 
			Most team members have experience in GUI design with PyQt; however, I think designing the UI using Flask or Django would be ideal because the designs
			that I came across that used these frameworks seemed more slick, such as the one designed by reddit user treacherous_tim shown in Figure 2. 
			</br>
			<br>			
			<div align="center">
  				<img src="Team/progress/img/FlaskUI.png" height="200" width="450"></img>
			</div>
			</br>
			

			<h4>Week 3:</h4>
            <b>Date:</b> 09/06/2019 <br>
            <b>Total hours:</b> 05 <br>
            <b>Description of design efforts:</b>
			<br>
			<b>Work done:</b> Over the course of this week, I looked over the potential techniques that I can use to design the UI for the clock. Python offers
			multiple ways to develop GUIs and Tkinter is one of the most popular methods. I have started dabbling a little bit with the clock design. 
			</br>
			<br>
			<b>Things learned:</b> I learned the rudimentary aspects of creating a GUI using Tkinter. I learned that the first step after importing the module is
			creating the container, which is the main window. Afterwards, one can add a variety of widgets to the main window and apply the trigger events. 
			</br>
			<br>
			<div align="center">
            	<img src="Team/progress/img/TkinterClock.png" height="500" width="450"></img>
         	</div>
			</br>
			<br>
			<b>Challenges faced:</b> I am used to designing the front-end of applications using PyQt and have minimal experience with other techniques. Hence,
			there is a bit of a learning curve that I need to overcome. However, Tkinter seems quite intuitive and there is extensive documentation and
			online tutorials.  
			</br>
			<br>
			<b>To do next week:</b> Over the course of the next week, I expect to be more productive and get more done with the front-end of the smart mirror
			application. I will work more on the clock design and the additional features. 
			</br>

		
			<h4>Week 4:</h4>
            <b>Date:</b> 09/13/2019 <br>
            <b>Total hours:</b> 05 <br>
            <b>Description of design efforts:</b>
			<br>
			<b>Work done:</b> Over the course of this week, I worked on the USART interface. We will be using the USART peripheral to communicate between the 				STM32F0 and the Jetson Nano.
			</br>
			<br>
			<b>Things learned:</b> I have learned about the USART setup. PA2 and PA3 are used as the RX and TX on the STM32F0. The microcontroller's reciever 
			and transmitter is connected to the USB module's transmitter and receiver, respectively. The USB module is used to communicate with the computer's
			terminal via Terra Term.   
			</br>
			<br>
			<div align="center">
            	<img src="Team/progress/img/USARTwiring.jpg" height="500" width="450"></img>
         	</div>
			</br>
			<br>
			<b>Challenges faced:</b> I am currently using the environment on the computers offered by the senior design lab. There is something wrong with System
			Workbench because it spits out several errors while trying to compile my code.
			</br>
			<br>
			<b>To do next week:</b> Over the course of the next week, I expect to be have a fully working USART that can be used to communicate strings from the
			STM32F0 to a computer terminal. 
			</br>


			<h4>Week 5:</h4>
            <b>Date:</b> 09/20/2019 <br>
            <b>Total hours:</b> 06 <br>
            <b>Description of design efforts:</b>
			<br>
			<b>Work done:</b> Over the course of this week, I was able to successfully initialize the USART (code shown below) and send the word "HELLO" to a
			computer terminal using the linux "screen" command. 
			</br>
			<br>
			<b>Things learned:</b> Previously, I was having problems with the USART interface because I was using Terra Term. I had specified the accurate baud 
			rate and packet size; however, giberrish was being printed on the terminal. Now that I am able to send data, I have realized the issue was 
			not due to any wiring or programming issues, but with the environment that was set up on the terminal.    
			</br>
			<br>
			<div align="center">
            	<img src="Team/progress/img/initusart.png" height="500" width="450"></img>
         	</div>
			</br>
			<br>
			<b>Challenges faced:</b> I had faced issues with retreiving the desired message on the terminal. I made sure that the module was wired correctly and
			that the program was logically correct. It turns out that the packet was not being interpreted correctly due to inconsistent configurations.  
			</br>
			<br>
			<b>To do next week:</b> Over the course of the next week, I will work on transmitting the sensor data from the temperature and light sensor 
			character-by-character. I will also try to wrap up the front-end of the dashboard. 
			</br>


			<h4>Week 6:</h4>
            <b>Date:</b> 09/20/2019 <br>
            <b>Total hours:</b> 05 <br>
            <b>Description of design efforts:</b>
			<br>
			<b>Work done:</b> Over the course of this week, I was able to use the USART interface in order to transmit three comma-separated numbers.  
			</br>
			<br>
			<b>Things learned:</b> It was easy to transmit the word "HELLO" using the USART protocol. Hence, I learned that the best way to move forward would be to send the light, temperature and sensor data character by
			character. This should be noted during the process of integrating the program that reads the sensor data and conducts analogue to digital conversion with the USART program that takes the digital values and sends 
			them to the Jetson one character at a time.    
			</br>
			<br>
			<div align="center">
            	<img src="Team/progress/img/writechar.png" height="500" width="450"></img>
         	</div>
			</br>
			<br>
			<b>Challenges faced:</b> It was difficult to figure out how to send the numbers character by character. I had to tinker with the functions such as printnums and writechar.  
			</br>
			<br>
			<b>To do next week:</b> Over the course of the next week, I will work with the rest of the team in order to get the design of the PCB completed. The PCB is the main component that is acting as a bottleneck at the 
			moment.  
			</br>


			<h4>Week 7:</h4>
            <b>Date:</b> 10/04/2019 <br>
            <b>Total hours:</b> 06 <br>
            <b>Description of design efforts:</b>
			<br>
			<b>Work done:</b> Over the course of this week, I worked with the team in order to integrate the sensors, particularly IR sensor, with the STM32FO and the USART interface.  
			</br>
			<br>
			<b>Things learned:</b> I learned that it is best to use PA9 and PA10 as the STM32F0's USART reciever and transmitter, instead of PA2 and PA3. This is because it makes the layout of the PCB more manageable. Hence, I have changed the USART initialization code appropriately. Namely, I had to change the pins in the Mode Register and the Alternate Function Register. Also, we are now using USART1 instead of USART2.     
			</br>
			<br>
			<div align="center">
            	<img src="Team/progress/img/UpdatedUSART.png" height="500" width="450"></img>
         	</div>
			</br>
			<br>
			<b>Challenges faced:</b> It has been quite difficult getting up to speed with Eagle. The PCB schematic was pretty straight forward to complete. However, placing the vias in the PCB layout has proven to be quite challenging due to the nature of the software. 
			</br>
			<br>
			<b>To do next week:</b> Over the course of the next week, I will work with the rest of the team in completing the first draft of the PCB. We will get it checked by one of the staff members and have the second draft ready for the midterm design review. 
			</br>


			<h4>Week 9:</h4>
            <b>Date:</b> 10/18/2019 <br>
            <b>Total hours:</b> 06 <br>
            <b>Description of design efforts:</b>
			<br>
			<b>Work done:</b> Over the course of this week, I worked with the team in order to finalize the design of the PCB. It was helpful to have multiple eyes on the layout, in order to catch errors. I helped in identifying the polygon to draw the ground plane. Moreover, I have been working on having the microcontroller communicate with the Jetson through USART directly, i.e, without the FT232R USART module.   
			</br>
			<br>
			<b>Things learned:</b> I learned from Prof. Thottethodi that there is no need to be using the FT232R USART module. The team was using it out of familiarity from the ECE 362 course. Its primary function is to make it easier to display the data being transmitted and recieved on a terminal. However, the Jetson has its own external pins that can be wired up with the RX and TX of the STM32F0.  
			</br>
			<br>
			<div align="center">
            	<img src="Team/progress/img/nousart.jpg" height="500" width="450"></img>
         	</div>
			</br>
			<br>
			<b>Challenges faced:</b> It has been quite difficult to perfect the design of the PCB. The team recieved a lot of feedback from the design reviewers during the Midterm Design Review (don't have right-angled traces, include a ground plane, calculate/justify the passive values chosen for resistors and capacitors, etc.). The team has to make sure all those requirements are met.  
			</br>
			<br>
			<b>To do next week:</b> Over the course of the next week, I will work on creating a state machine that describes the program flow of the IntelliFace project. This program will interact with the IR sensor and the dashboard UI and toggle between the wake and sleep state.  
			</br>


			<h4>Week 10:</h4>
            <b>Date:</b> 10/25/2019 <br>
            <b>Total hours:</b> 07 <br>
            <b>Description of design efforts:</b>
			<br>
			<b>Work done:</b> Over the course of this week, I worked with the team and soldered the parts onto the sensor board. I soldered the light-dependent resistor, the temperature sensor, the infrared sensor and the header pins. I also helped Rtvik with placing some of the surface-mounted, padded resistors. The team ran the code and was able to collect the sensor data; hence, the sensor board is fully functional. The image below depicts the completed sensor board.  
			</br>
			<br>
			<b>Things learned:</b> I learned how to drag solder from Joe and he gave me the general run-down. He showed me when to add flux, how much solder to add, how to rinse the board with water and alcohol, how to scrub it, how to dry it, etc.
			</br>
			<br>
			<div align="center">
            	<img src="Team/progress/img/soldering.jpg" height="500" width="450"></img>
         	</div>
			</br>
			<br>
			<b>Challenges faced:</b> Soldering the parts on the sensor board was fairly straightforward. However, I am anticipating some challenges with soldering the parts onto the main board. Soldering the STM chip will be critical because the team would like to get it right in the first attempt with the one chip that we have. Joe showed me how to align the pins on the traces and verify it with the microscope. He also told me how to tack the corners of the chip onto the board. I have to place a small amount of solder onto the tip of the soldering iron and drag it along the pins of the chip. This will create unwanted bridges across the pins and I have to removed these bridges without damaging the pins, which can be tricky.     
			</br>
			<br>
			<b>To do next week:</b> Over the course of the next week, I will work on soldering the parts onto the main board. I will start by soldering the chip and then move on to the surface-mounted capacitors and resistors, barrel jack, oscillator crystal, etc.   
			</br>

			<h4>Week 11:</h4>
            <b>Date:</b> 11/01/2019 <br>
            <b>Total hours:</b> 10 <br>
            <b>Description of design efforts:</b>
			<br>
			<b>Work done:</b> Over the course of this week, I worked on soldering the parts onto the main board. I soldered the STM chip and assissted Rtvik with soldering the surface-mounted, padded resistors and capacitors. I also soldered the barrel jack and the power regulator. The image below depicts the completed main board for the project.
			</br>
			<br>
			<b>Things learned:</b> I learned how to test the connectivity of the system using the digital multimeter. I learned how to make sure that there are no unwanted short circuits on the PCB. I also learned that it is important to use very small amounts of solder, because a tiny amount is enough to get the job done and it prevents bridges from occuring between the pins. 
			</br>
			<br>
			<div align="center">
            	<img src="Team/progress/img/soldering1.jpg" height="500" width="450"></img>
         	</div>
			</br>
			<br>
			<b>Challenges faced:</b> There were a variety of challenges faced. For instance, we managed to rip out a pad and some copper wire from a PCB while trying to remove some excess solder using the braid. The braid got stuck to the pad after the solder got cold. Hence, we had to start from scratch with a second PCB. On the second PCB, I connected a red test-LED instead of a green one to one of the pins. This was an issue because different LEDs can sink different amounts of current and based on the present configuration and resistor value, the red LED could have potentially blown up. Hence, we have removed it. Another issue has to do with the power regulator: it should ideally take in 5V as Vin and spit out 3V as Vout; however, it is only spitting out 1.8V. The regulator also has a tendency of heating up. This may be an issue with the circuit configuration, short-circuits, or faulty equipment.   
			</br>
			<br>
			<b>To do next week:</b> Over the course of the next week the team should ideally have all the issues resolved. I will test the circuit with a new power regulator. Nevertheless, the team should be able to test the current PCB with regulated 3V input coming from the power supply on our lab station. Writing a simple test program that sets an output pin high should be enough to verify the functionality of the PCB design. After PCB verification is complete, the team can move on to physical assembly. 
			</br>

			<h4>Week 12:</h4>
            <b>Date:</b> 11/08/2019 <br>
            <b>Total hours:</b> 7 <br>
            <b>Description of design efforts:</b>
			<br>
			<b>Work done:</b> Over the course of this week, I finished soldering the PCB in the correct fashion. This is quite a good step forward in the right direction because we are now much closer towards meeting the requirements of our 3 hardware PSSCs. The image below depicts the sensor data that is being collected. This now requires no breadboard or prototyping circuit and it is being done fully on our custom-made boards. 
			</br>
			<br>
			<b>Things learned:</b> I learned that the orientation of our STM chip was wrong all along. Rtvik figured this out with Joe's help. We had to go into the chip library and find the actual pin layout and orientation. This was the final fix that had to be made in order to get our system working.   
			</br>
			<br>
			<div align="center">
            	<img src="Team/progress/img/sensorvalues.jpg" height="500" width="450"></img>
         	</div>
			</br>
			<br>
			<b>Challenges faced:</b> I had to make several attempts at soldering the PCBs. We only got it right on our fourth board because a variety of things went wrong in previous attempts, such as the pads getting ripped out while using the solder braid, using the wrong power regulator orientation, using the wrong chip orientation, blowing out LEDs, etc.  
			</br>
			<br>
			<b>To do next week:</b> Over the course of the next week the software components have to be integrated and the team has to aim for getting the preliminary PSCCs checked off. This entails that that the entire setup is self contained and that all the software starts automatically from power-up. 
			</br>

			<h4>Week 13:</h4>
            <b>Date:</b> 11/15/2019 <br>
            <b>Total hours:</b> 3 <br>
            <b>Description of design efforts:</b>
			<br>
			<b>Work done:</b> Over the course of this week, I worked with the rest of the team in order to integrate the different modules of the project. I wrote code in order to detect the length of a press. Essentially, the machine needs to detect how long a gesture is active for and it needs to differentiate between a short an long press. 
			</br>
			<br>
			<b>Things learned:</b> I learned that there are a variety of steps that need to be taken in order to integrate the different modules of the project. Different processes need to be run in parallel with one another and the program needs to switch states when the different inputs trigger it to do so.   
			</br>
			<br>
			<div align="center">
            	<img src="Team/progress/img/shortlongpress.jpg" height="500" width="450"></img>
         	</div>
			</br>
			<br>
			<b>Challenges faced:</b> Bringing together the various sub-parts of the project has proven to be somewhat challenging. Running multiple processes at the same time has revealed some bugs in the way the sensor data is being aggregated serially.  
			</br>
			<br>
			<b>To do next week:</b> Once integration is complete, it is important that the team moves on to physical assembly and packaging. The team will have to buy the necessary parts, such as wood and acrylic glass, to piece things together. 
			</br>

			<h4>Week 14:</h4>
            <b>Date:</b> 11/22/2019 <br>
            <b>Total hours:</b> 10 <br>
            <b>Description of design efforts:</b>
			<br>
			<b>Work done:</b> Over the course of this week, I worked on the physical build and packaging of the project. This involved a reasonable amount of woodworking and cable management. The components were added to the back of the mirror and a wooden cover was made, as shown in the image below. 
			</br>
			<br>
			<b>Things learned:</b> The project is coming to a close and we are in the endgame now. This step involved nailing, drilling and sawing pieces of wood. I learned a reasonable amount of woodworking while doing the packaging by using the different tools and equipment provided by the lab.   
			</br>
			<br>
			<div align="center">
            	<img src="Team/progress/img/packaging.jpg" height="500" width="450"></img>
         	</div>
			</br>
			<br>
			<b>Challenges faced:</b> The team has taken a step backwards when it comes to system integration because we changed some of the code on the program that runs the dashboard. Now the screen is blacked out and we cannot interact with the Jetson; hence, it needs to be reflashed and the programs need to be reuploaded.  
			</br>
			<br>
			<b>To do next week:</b> Once the physical assembly is complete and the system integration has been done, the team needs to conduct a demo with one of the course instructors.  
			</br>



        </div>

		<!-- Instantiate global footer. Any changes to the footer should be made through the top-level file "footer.html" -->
		<div id="footer"></div>
    </div>
</div>

<!--JS-->
<script src="js/jquery.js"></script>
<script src="js/jquery-migrate-1.1.1.js"></script>

<script type="text/javascript">
$(document).ready(function() {
    $("#header").load("header.html");
	$("#menu").load("navbar.html");
	$("#footer").load("footer.html");
});
</script>
</body>
</html>
